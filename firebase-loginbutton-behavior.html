<script>
FirebaseLoginbuttonBehavior = function(superClass) {
    return class extends superClass {
        connectedCallback() {
          if (super.connectedCallback) {
            super.connectedCallback();
            this.initListeners();
          }
        }

        static get properties() {
            return {
                user: {
                    type: Object,
                    value: {}
                }
            }
        }

        initListeners() {
            document.addEventListener('firebase-signin', this.signin.bind(this), false);
            document.addEventListener('firebase-signout', this.signout.bind(this), false);
        }

        signin(payload) {
            if (payload) {
                this.user = payload.detail.user;
            }
            this.routeData.page = "";
        }

        signout() {
            this.user = {};
        }

    }
}
</script>